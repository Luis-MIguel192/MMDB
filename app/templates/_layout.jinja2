{% from 'navbar.jinja2' import barra_navegacao with context -%}
{%- from 'mensagens.jinja2' import render_toast_messages with context -%}
<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS (CDN) -->
    {{ bootstrap.load_css() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/site.css') }}">
    {% block styles %}
    {% endblock %}
    {% if title %}
        <title>{{ title }}</title>
    {% elif app_config["APP_NAME"] %}
        <title>{{ app_config["APP_NAME"] }}</title>
    {% else %}
        <title>myMovieDB</title>
    {% endif %}
    {% block head_extra %}{% endblock %}
</head>
<body class="d-flex flex-column min-vh-100">

{{ barra_navegacao() }}
{{ render_toast_messages() }}

<!-- Conteúdo principal -->
<main class="flex-fill d-flex justify-content-center align-items-center pb-5">
    {% block content %}
        <div class="text-center text-muted">
            <h3>Conteúdo em construção...</h3>
        </div>
    {% endblock %}
</main>

<!-- Rodapé fixo -->
<footer class="bg-primary-subtle text-dark-emphasis fixed-bottom pt-3">
    <div class="container-fluid pb-2 px-5">
        <div class="row">
            <div class="col">
                <img class="me-3 float-start" src="{{ url_for('static', filename='img/ifsp.svg') }}"
                     alt="Logotipo do IFSP" width="20"/>
                <p class="text-start small"><em>Aplicação desenvolvida no escopo
                    da disciplina "Desenvolvimento Web II" do
                    <a href="https://sjp.ifsp.edu.br/cursos-tecnicos/221-curso-tecnico-em-informatica"
                       target="_blank">Curso Técnico em Informática</a> do Instituto Federal de
                    Educação, Ciência e Tecnologia de São Paulo,
                    <a href="https://sjp.ifsp.edu.br/" target="_blank">campus São José do Rio
                        Preto</a>,
                    durante o segundo semestre de 2025</em>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- Bootstrap JS (CDN) -->
{{ bootstrap.load_js() }}

<!-- Tooltips para cargos de cinema -->
<script src="{{ url_for('static', filename='js/tooltips.js') }}"></script>

<!-- Tooltips globais para cargos de cinema -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Descrições dos cargos no cinema
    const jobDescriptions = {
        'Diretor': 'Responsável pela visão criativa geral do filme, dirigindo atores e coordenando a equipe técnica.',
        'Diretor de Fotografia': 'Responsável pela captura visual do filme, incluindo iluminação, enquadramento e movimento de câmera.',
        'Produtor': 'Gerencia os aspectos financeiros e logísticos da produção, desde o desenvolvimento até a distribuição.',
        'Produtor Executivo': 'Supervisiona múltiplos projetos e fornece financiamento ou recursos para a produção.',
        'Roteirista': 'Escreve o roteiro do filme, criando diálogos, estrutura narrativa e desenvolvimento de personagens.',
        'Editor': 'Monta o filme final, selecionando e organizando as cenas para criar o ritmo e fluxo narrativo.',
        'Compositor': 'Cria a trilha sonora original do filme, compondo músicas que complementam a narrativa.',
        'Designer de Produção': 'Responsável pelo visual geral do filme, incluindo cenários, figurinos e paleta de cores.',
        'Diretor de Arte': 'Supervisiona a criação dos elementos visuais, trabalhando com cenógrafos e decoradores.',
        'Figurinista': 'Desenha e coordena os figurinos dos personagens, contribuindo para a caracterização.',
        'Maquiador': 'Responsável pela maquiagem dos atores, incluindo efeitos especiais e caracterização.',
        'Supervisor de Efeitos Visuais': 'Coordena a criação de efeitos digitais e visuais especiais do filme.',
        'Mixador de Som': 'Responsável pela mixagem final do áudio, balanceando diálogos, música e efeitos sonoros.',
        'Ator': 'Interpreta um personagem no filme, trazendo vida às palavras do roteiro através da performance.',
        'Atriz': 'Interpreta um personagem no filme, trazendo vida às palavras do roteiro através da performance.',
        'Diretor Assistente': 'Auxilia o diretor na coordenação do set e no cumprimento do cronograma de filmagem.',
        'Operador de Câmera': 'Opera as câmeras durante as filmagens, seguindo as direções do diretor de fotografia.',
        'Gaffer': 'Chefe da equipe de iluminação, responsável por implementar o plano de iluminação do filme.',
        'Continuísta': 'Garante a continuidade visual entre as cenas, anotando detalhes de figurino, maquiagem e cenário.',
        'Casting Director': 'Responsável pela seleção e contratação dos atores para os diversos papéis do filme.'
    };

    // Inicializar tooltips para cargos em todas as páginas
    const jobRoles = document.querySelectorAll('.job-role');
    jobRoles.forEach(function(element) {
        const cargo = element.getAttribute('data-cargo');
        const description = jobDescriptions[cargo] || 'Profissional que contribui para a realização do filme.';
        element.setAttribute('title', description);
        
        // Inicializar tooltip do Bootstrap
        new bootstrap.Tooltip(element, {
            placement: 'top',
            trigger: 'hover focus'
        });
    });
});
</script>

{% block scripts %}
{% endblock %}
</body>
</html>
